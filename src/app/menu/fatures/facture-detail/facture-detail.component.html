<div>
  <p-card *ngIf="facture">
    <ng-template pTemplate="header">
      <div class="flex p-1 justify-content-between">
        <button pButton type="button" label="Imprimer" class="p-button-outlined" (click)="imprimer()"></button>
      </div>
      <p-divider></p-divider>
    </ng-template>

    <h1><strong>S00007</strong></h1>
    <div class="flex">
      <div class="flex justify-content-start align-items-start">
        <h6><strong>Client</strong></h6>
        <p-divider layout="vertical" class="h-full"></p-divider>
        <div>
          <p>{{facture.commande?.client?.prenom}} {{facture.commande?.client?.nom}}</p>
          <p>{{facture.commande?.client?.tel}}</p>
          <p>{{facture.commande?.client?.ville.label}}</p>
        </div>
      </div>

      <div class="flex justify-content-start align-items-start ml-5">
        <h6><strong>Date de la Facture</strong></h6>
        <p-divider layout="vertical" class="h-full"></p-divider>
        <div>
          <p>{{facture.commande?.date | date}}</p>
        </div>
      </div>
    </div>

    <p-tabView styleClass="mt-5">
      <p-tabPanel header="Ligne de la facture" >
        <p-table [value]="facture.commande?.ligneCommandes" responsiveLayout="scroll">
          <ng-template pTemplate="header">
              <tr>
                <th>Référece</th>
                <th>Article</th>
                <th>Prix Achat</th>
                <th>Prix/Commande</th>
                <th>Quantité</th>
                <th>Prix vente/unité</th>
                <th>Sous-total</th>
              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-ligneCommande>
              <tr [ngStyle]="{'background': ligneCommande.alert == -1 ? 'rgb(255 0 0 / 83%)' : (ligneCommande.alert==1 ? '#e9e914ba' : null),
                             'color': ligneCommande.alert == -1 ? 'white' : '' }"

              >
                  <td>{{ligneCommande.article.reference}}</td>
                  <td>{{ligneCommande.article.nom}}</td>
                  <td>{{ligneCommande.article.prixAchat}}</td>
                  <td>{{ligneCommande.article.prixVenteParCommande}}</td>
                  <td>{{ligneCommande.qnt}}</td>
                  <td>{{ligneCommande.prixVentReel}}</td>
                  <td>{{ligneCommande.sousTotal}}</td>
              </tr>

          </ng-template>
      </p-table>

      </p-tabPanel>
      <p-tabPanel header="Autres informations">
          Content 2
      </p-tabPanel>

  </p-tabView>
  </p-card>
</div>


